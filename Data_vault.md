## Data Vault 2.0

*Преимущества:*
- Гибкость и расширяемость модели данных – можно легко добавлять новые сущности и атрибуты
- Нет избыточности информации
- Минимизация занимаемого пространства при хранении истории
- Быстрый старт – не надо долго думать над моделью и проектировать ее целиком

*Недостатки:*
- Сложность использования при построении широких витрин – требуется большое количество джойнов 
- Ограничения СУБД по работе с большим количеством таблиц (Hive - expect performance issues if total number of objects exceeds 500,000)

-----


Состоит из трех обьектов:
* Hub - сущность с позиции бизнеса
* Satellite - описательные атрибуты хаба или cсылки
* Link - связи хабов между соботаблицай

#### Хаб.

Hub таблица хранит:
- Id сущности (суррогатный ключ)
- Бизнес-ключ (может быть составным)
- Дата загрузки
- Ссылка на источник

**Записи в хабах не изменяются и не имеют версий**
```
Пример hub таблицы:
- Работник
- Магазин
```


#### Спутник(satellit).
Данные из разных систем-источников кладут в разные спутники
Слабо изменяемые атрибуты (```ИНН```) и сильно изменяемые атрибуты (```Адрес```) – разные таблицы satelite

Каждая satelite таблица хранит:
- Id таблицы Hub (ключ родителя, он всегда один)
- Дата загрузки
- Ссылка на источник
- Перечень атрибутов

``` 
Пример attribute таблицы:
Номер паспорта
Название магазина
```

#### Ссылка(link). 
Связь всегда M:M
Ссылка может иметь свои атрибуты

Каждая link таблица хранит:
- Id из таблицы hub1
- Id из таблицы hub2
- Дата загрузки

```
Пример link таблицы:
Работник - Магазин
```
#### Пример модели:

![dd](https://i.ibb.co/tpXgT66/dv-2.png)
